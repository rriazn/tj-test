<div class="outer">
    <h1 class="headline">Competitions</h1>
    <div  class="inner">
        @for (comp of competitions; track $index) {
            <div class="comp">
                <app-competition [competition]="comp" class="comp-inner"/>
                <div class="images">
                    <img src="./assets/edit.png" (click)="editComp(comp)" />
                    <img src="./assets/trash.png" (click)="deleteComp(comp)"/>
                </div>
            </div>
        }
    </div>
    <button class="big-button" (click)="createNewComp()">New Competition</button>
</div>
@if(createOrEdit()) {
    <div class="create-outer">
        <div class="name-date">
            <input type="text" placeholder="competition title" [(ngModel)]="newCompName">
            <input type="date" placeholder="date" [(ngModel)]="newDate">
        </div>  
        <app-upload (participantsOutput)="getParticipants($event)" class="app-upload" />
        <div class="create-groups">
            <h3>Configure Groups</h3>
            <ul class="group-list">
                @for(group of newGroups; track $index) {
                    <li>
                        {{group.title}}
                        <div class="images">
                            <img src="./assets/trash.png" (click)="deleteGroup(group)"/>
                        </div>
                        
                    </li>
                }
            </ul>
            <div class="input-group">
                <input type="text" placeholder="new group name" [(ngModel)]="groupName" (keydown)="onEnter($event)">
                <button (click)="addGroup()">+</button>
            </div>
        </div>
        <button class="big-button" (click)="saveComp()">Save</button>
    </div>
}
